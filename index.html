<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arepita</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Playfair Display', serif;
  background:linear-gradient(180deg,#0f2027,#203a43,#2c5364);
}

/* ===== T√çTULO ===== */
header{
  text-align:center;
  padding:1.2rem;
  color:#fff;
}
header h1{margin:0;font-size:2.5rem;}

/* ===== REPRODUCTOR ===== */
.player{
  max-width:720px;
  margin:0 auto;
  background:#fdf8f2;
  padding:0.6rem;
  border-radius:6px;
  display:flex;
  align-items:center;
  gap:0.4rem;
  position:relative;
}

.player button{
  background:none;
  border:none;
  font-size:1.2rem;
  cursor:pointer;
}

.progress{flex:1;}

.song-name{
  text-align:center;
  font-size:0.85rem;
  color:#333;
  margin:0.3rem auto 1rem;
  max-width:720px;
}

.menu-btn{font-size:1.4rem;}

.song-list{
  display:none;
  position:absolute;
  top:42px;
  right:8px;
  background:#fff;
  border:1px solid #ccc;
  border-radius:6px;
  max-height:220px;
  overflow:auto;
  width:260px;
  z-index:10;
}

.song-list div{
  padding:0.5rem;
  cursor:pointer;
  font-size:0.8rem;
}
.song-list div:hover{background:#eee;}

/* ===== LIBRO ===== */
main{
  display:flex;
  justify-content:center;
  padding:1rem;
}

.page{
  display:none;
  background:#fdf8f2;
  max-width:720px;
  width:100%;
  padding:2rem;
  border-radius:6px;
  box-shadow:0 10px 25px rgba(0,0,0,.35);
  position:relative;
}

.page.active{display:block;}

.page h2{text-align:center;margin-top:0}

/* CONTENIDO FIJO */
.poem-content{
  height:420px;              /* üîí ALTO FIJO */
  overflow-y:auto;           /* scroll interno */
  line-height:1.8;
}

/* ===== FAVORITO ===== */
.favorite{
  position:absolute;
  top:18px;
  right:18px;
  font-size:1.5rem;
  cursor:pointer;
  color:#bbb;
}
.favorite.active{color:#c0392b;}

/* ===== NAVEGACI√ìN ===== */
.page-number{
  text-align:center;
  margin-top:1rem;
  font-size:0.8rem;
  color:#777;
}

.page-nav{
  text-align:center;
  margin-top:0.6rem;
}
.page-nav button{
  border:1px solid #333;
  background:none;
  border-radius:50%;
  width:32px;
  height:32px;
  margin:0 4px;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <h1>Arepita</h1>
</header>

<!-- REPRODUCTOR -->
<div class="player">
  <button onclick="prevSong()">‚èÆÔ∏è</button>
  <button onclick="togglePlay()">‚ñ∂Ô∏è</button>
  <button onclick="nextSong()">‚è≠Ô∏è</button>
  <button onclick="toggleShuffle()">üîÄ</button>
  <input type="range" class="progress" value="0">
  <button class="menu-btn" onclick="toggleMenu()">‚ãÆ</button>
  <div class="song-list" id="songList"></div>
</div>

<div class="song-name" id="songName">‚Äî</div>

<audio id="audio"></audio>

<main>

<!-- P√ÅGINA 1 -->
<section class="page active" data-page="0">
<span class="favorite" onclick="toggleFavorite(0)">‚ô•</span>
<h2>Fuego a la distancia</h2>
<div class="poem-content">
<p>Entre mares y kil√≥metros se esconde tu voz,<br>y aun as√≠, me alcanza.<br><br>
No hay muro que detenga la chispa que encendiste sin tocarme.<br><br>
Eres fuego que no quema, pero arde en cada pensamiento;<br>
labra el aire con su fuerza, y deja en mi pecho un desvelo eterno.<br><br>
Trabajas, brillas, resistes,<br>
mujer hecha de empe√±o y llama,<br>
y aunque el mundo nos mida en mapas,<br>
mi alma te busca sin br√∫jula ni calma.<br><br>
Quiz√° el destino juega con nosotros,<br>
quiz√° el tiempo pruebe su poder,<br>
pero hay miradas que, aunque lejanas,<br>
encienden m√°s que el amanecer.</p>
</div>
<div class="page-number">1</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
</div>
</section>

<!-- P√ÅGINA 2 -->
<section class="page" data-page="1">
<span class="favorite" onclick="toggleFavorite(1)">‚ô•</span>
<h2>Mientras tanto</h2>
<div class="poem-content">
<p>No te tengo,<br>pero te sostengo en la calma.<br>
Como se sostiene una certeza<br>
que no necesita pruebas.<br><br>
La distancia no nos separa,<br>
nos aprende.<br>
Nos vuelve pacientes,<br>
nos vuelve verdad.<br><br>
Te extra√±o sin ruido,<br>
sin urgencia,<br>
porque s√© que el tiempo<br>
tambi√©n sabe amar.<br><br>
Nuestro amor no corre,<br>
permanece.<br>
Crece en lo invisible,<br>
en lo que a√∫n no ocurre.</p>
</div>
<div class="page-number">2</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
</div>
</section>

</main>

<script>
/* ===== P√ÅGINAS ===== */
const pages=document.querySelectorAll('.page');
function showPage(n){
  pages.forEach(p=>p.classList.remove('active'));
  pages[n].classList.add('active');
}

/* ===== FAVORITO ===== */
function toggleFavorite(i){
  localStorage.setItem("favoritePoem", i);
  document.querySelectorAll(".favorite").forEach(f=>f.classList.remove("active"));
  document.querySelector(`.page[data-page="${i}"] .favorite`).classList.add("active");
}

const fav=localStorage.getItem("favoritePoem");
if(fav!==null){
  document.querySelector(`.page[data-page="${fav}"] .favorite`).classList.add("active");
}

/* ===== M√öSICA ===== */
const songs=[
"Combusti√≥n - J√≥sean Log(MP3_160K).mp3",
"Diego Luna - Te Amo Y M√°s (Letra)(MP3_160K).mp3"
];

let index=0;
let shuffle=false;
const audio=document.getElementById("audio");
const songName=document.getElementById("songName");

function cleanName(name){
  return name.replace(/\(.*?\)|\.mp3|\.m4a/gi,"").trim();
}

function loadSong(i){
  audio.src=songs[i];
  songName.textContent=cleanName(songs[i]);
  audio.play();
}

function togglePlay(){ audio.paused?audio.play():audio.pause(); }
function nextSong(){ index=(index+1)%songs.length; loadSong(index); }
function prevSong(){ index=(index-1+songs.length)%songs.length; loadSong(index); }
function toggleShuffle(){ shuffle=!shuffle; }

loadSong(index);
</script>

</body>
</html>
