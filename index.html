<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arepita</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family:'Playfair Display', serif;
  background:linear-gradient(180deg,#0f2027,#203a43,#2c5364);
}

/* HEADER */
header{
  text-align:center;
  padding:1.2rem;
  color:#fff;
}
header h1{margin:0;font-size:2.5rem;}

/* REPRODUCTOR */
.player-wrapper{
  max-width:720px;
  margin:0 auto 0.5rem;
}

.player{
  background:#fdf8f2;
  padding:0.6rem;
  border-radius:6px 6px 0 0;
  display:flex;
  align-items:center;
  gap:0.6rem;
}

.player button{
  background:none;
  border:none;
  font-size:1.2rem;
  cursor:pointer;
}

.progress{flex:1;}

.player-song{
  background:#fdf8f2;
  text-align:center;
  font-size:0.9rem;
  padding:0.4rem;
  font-weight:600;
}

.playlist{
  display:none;
  background:#fdf8f2;
  max-height:220px;
  overflow-y:auto;
  border-radius:0 0 6px 6px;
}
.playlist div{
  padding:0.6rem;
  cursor:pointer;
  border-top:1px solid #ddd;
  font-size:0.85rem;
}
.playlist div:hover{background:#eee;}

/* LIBRO */
main{
  display:flex;
  justify-content:center;
  padding:1rem;
}

.page{
  display:none;
  background:#fdf8f2;
  max-width:720px;
  width:100%;
  padding:2rem;
  border-radius:6px;
  box-shadow:0 10px 25px rgba(0,0,0,.35);
  position:relative;
}
.page.active{display:block;}

.poem-content{
  height:420px;
  overflow-y:auto;
  line-height:1.8;
}

.favorite{
  position:absolute;
  top:18px;
  right:18px;
  font-size:1.5rem;
  cursor:pointer;
  color:#bbb;
}
.favorite.active{color:#c0392b;}

.page-nav{text-align:center;margin-top:1rem;}
.page-nav button{
  border:1px solid #333;
  background:none;
  border-radius:50%;
  width:32px;
  height:32px;
  margin:0 4px;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <h1>Arepita</h1>
</header>

<!-- REPRODUCTOR -->
<div class="player-wrapper">
  <div class="player">
    <button onclick="prevSong()"><i class="fa-solid fa-backward"></i></button>

    <button onclick="togglePlay()" id="playBtn">
      <i class="fa-regular fa-circle-play"></i>
    </button>

    <button onclick="nextSong()"><i class="fa-solid fa-forward"></i></button>

    <button onclick="toggleShuffle()"><i class="fa-solid fa-shuffle"></i></button>

    <input type="range" class="progress">

    <button onclick="togglePlaylist()"><i class="fa-solid fa-ellipsis-vertical"></i></button>
  </div>

  <div class="player-song" id="songName">—</div>
  <div class="playlist" id="playlist"></div>
</div>

<audio id="audio"></audio>

<main>

<!-- POEMA 1 -->
<section class="page active" data-page="0">
<span class="favorite" onclick="toggleFavorite(0)">♥</span>
<h2>Fuego a la distancia</h2>
<div class="poem-content">
Entre mares y kilómetros se esconde tu voz,<br>
y aun así, me alcanza.<br><br>
No hay muro que detenga la chispa que encendiste sin tocarme.<br><br>
Eres fuego que no quema, pero arde en cada pensamiento;<br>
labra el aire con su fuerza, y deja en mi pecho un desvelo eterno.<br><br>
Trabajas, brillas, resistes,<br>
mujer hecha de empeño y llama,<br>
y aunque el mundo nos mida en mapas,<br>
mi alma te busca sin brújula ni calma.<br><br>
Quizá el destino juega con nosotros,<br>
quizá el tiempo pruebe su poder,<br>
pero hay miradas que, aunque lejanas,<br>
encienden más que el amanecer.
</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
<button onclick="showPage(2)">3</button>
<button onclick="showPage(3)">4</button>
</div>
</section>

<!-- POEMA 2 -->
<section class="page" data-page="1">
<span class="favorite" onclick="toggleFavorite(1)">♥</span>
<h2>Mientras tanto</h2>
<div class="poem-content">
No te tengo,<br>
pero te sostengo en la calma.<br>
Como se sostiene una certeza<br>
que no necesita pruebas.<br><br>
La distancia no nos separa,<br>
nos aprende.<br>
Nos vuelve pacientes,<br>
nos vuelve verdad.<br><br>
Te extraño sin ruido,<br>
sin urgencia,<br>
porque sé que el tiempo<br>
también sabe amar.<br><br>
Nuestro amor no corre,<br>
permanece.<br>
Crece en lo invisible,<br>
en lo que aún no ocurre.<br><br>
Yo espero sin cansarme,<br>
contando días como quien riega una planta:<br>
con cuidado,<br>
con fe.
</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
<button onclick="showPage(2)">3</button>
<button onclick="showPage(3)">4</button>
</div>
</section>

<!-- POEMA 3 -->
<section class="page" data-page="2">
<span class="favorite" onclick="toggleFavorite(2)">♥</span>
<h2>Te anhelo</h2>
<div class="poem-content">
Como el cielo anhela al sol cuando cae la tarde.<br><br>
No con desesperación, sino con esa certeza suave de que volverá a tocarlo.<br><br>
Así te pienso,<br>
como se piensan los atardeceres:<br>
con paciencia,<br>
con esperanza quieta.<br><br>
Quisiera tenerte cerca para aprender tus silencios,<br>
para quedarme en tu calma cuando el día se cansa.<br><br>
Porque así como el cielo espera la luz dorada,<br>
yo espero el momento en que tu presencia sea parte del paisaje.<br><br>
Y cuando estés aquí,<br>
no hará falta decir nada,<br>
el anhelo sabrá que valió la pena.
</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
<button onclick="showPage(2)">3</button>
<button onclick="showPage(3)">4</button>
</div>
</section>

<!-- POEMA 4 -->
<section class="page" data-page="3">
<span class="favorite" onclick="toggleFavorite(3)">♥</span>
<h2>Destino</h2>
<div class="poem-content">
Hay mujeres bellas, y luego estás tú.<br><br>
No por la forma exacta de tu rostro,<br>
sino por esa mirada donde el mundo baja la voz.<br><br>
Tus ojos no miran,<br>
invitan.<br><br>
Uno entra sin darse cuenta<br>
y se pierde con gusto.<br><br>
En ellos el tiempo se equivoca,<br>
las prisas se rinden,<br>
y hasta mis pensamientos aprenden a caminar descalzos.<br><br>
Tu belleza no se exhibe,<br>
sucede.<br><br>
Porque perderse en tus ojos<br>
no es error,<br>
es destino.
</div>
<div class="page-nav">
<button onclick="showPage(0)">1</button>
<button onclick="showPage(1)">2</button>
<button onclick="showPage(2)">3</button>
<button onclick="showPage(3)">4</button>
</div>
</section>

</main>

<script>
const pages=document.querySelectorAll('.page');
function showPage(n){
  pages.forEach(p=>p.classList.remove('active'));
  pages[n].classList.add('active');
}

/* FAVORITOS */
let favorites=JSON.parse(localStorage.getItem("favorites"))||[];
function toggleFavorite(i){
  const heart=document.querySelector(`.page[data-page="${i}"] .favorite`);
  if(favorites.includes(i)){
    favorites=favorites.filter(f=>f!==i);
    heart.classList.remove("active");
  }else{
    favorites.push(i);
    heart.classList.add("active");
  }
  localStorage.setItem("favorites",JSON.stringify(favorites));
}
favorites.forEach(i=>{
  const h=document.querySelector(`.page[data-page="${i}"] .favorite`);
  if(h)h.classList.add("active");
});

/* MÚSICA */
const songs=[
"Combustión - Jósean Log(MP3_160K).mp3",
"Diego Luna - Te Amo Y Más (Letra)(MP3_160K).mp3",
"el libro de la vida - No Matter Where You Are _ letra en español(MP3_160K).mp3",
"En las danzas y en los sueños - Estoico _ Valka (Cómo Entrenar a Tu Dragón 2)  _ _Letra_(M4A_128K).m4a",
"Enanitos Verdes - Mariposas(MP3_160K).mp3",
"Frances Limon(MP3_160K).mp3",
"Glup_ -  Freebola (Video Oficial Remasterizado)(MP3_160K).mp3",
"Hombres G - Si no te tengo a ti (Audio Oficial)(MP3_160K).mp3",
"Igual Que Ayer(MP3_160K).mp3",
"Jósean Log - Jacaranda (lyric video)(MP3_160K).mp3",
"Jósean Log - Pruébame a Ti (video oficial)(MP3_160K).mp3",
"Jósean Log - Si Hay Algo (video oficial)(MP3_160K).mp3",
"León - Como Tú (video oficial con letra)(MP3_160K).mp3",
"Mon Laferte - Amárrame ft. Juanes(MP3_160K).mp3",
"Mon Laferte - Amor Completo(MP3_160K).mp3",
"Química Mayor(MP3_160K).mp3",
"Bonita (Bonus Track)(MP3_160K)_1.mp3"
];

const audio=document.getElementById("audio");
const songName=document.getElementById("songName");
const playlist=document.getElementById("playlist");
const playBtn=document.getElementById("playBtn");
let index=0;
let shuffle=false;

function cleanName(n){
  return n.replace(/\(.*?\)|\.mp3|\.m4a/gi,"").trim();
}

songs.forEach((s,i)=>{
  const div=document.createElement("div");
  div.textContent=cleanName(s);
  div.onclick=()=>{index=i;loadSong();}
  playlist.appendChild(div);
});

function loadSong(){
  audio.src=songs[index];
  songName.textContent=cleanName(songs[index]);
  audio.play();
  playBtn.innerHTML='<i class="fa-solid fa-stop"></i>';
}

function togglePlay(){
  if(audio.paused){
    audio.play();
    playBtn.innerHTML='<i class="fa-solid fa-stop"></i>';
  }else{
    audio.pause();
    playBtn.innerHTML='<i class="fa-regular fa-circle-play"></i>';
  }
}

function nextSong(){
  index = shuffle ? Math.floor(Math.random()*songs.length) : (index+1)%songs.length;
  loadSong();
}
function prevSong(){
  index=(index-1+songs.length)%songs.length;
  loadSong();
}
function toggleShuffle(){shuffle=!shuffle;}

function togglePlaylist(){
  playlist.style.display=playlist.style.display==="block"?"none":"block";
}

loadSong();
</script>

</body>
</html>
